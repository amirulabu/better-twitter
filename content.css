/*
Adaptation for the new Twitter interface (circa 2019).

Mark just the container for main timeline of tweets, ignoring "trending", "followers" and "following" timelines.

Apply a fake animation on the main timeline container.
An "animationstart" event listener in JavaScript (content.js) is triggered
to mark the matched element's ancestor with the `bt-marker-timeline` class name.

NOTE: this is language-dependent because it matches by contents of ARIA labels.
*/
[aria-label^="timeline" i]:not([aria-label*="trending" i], [aria-label*="following" i], [aria-label*="followers" i]) {
	animation: bt-marker-timeline 0s 1;
}
@keyframes bt-marker-timeline { to { outline-color: inherit } }

/*
Adaptation for the new Twitter interface (circa 2019).

Apply a fake animation on the "Who to Follow" sidebar container, main timeline recommended accounts, "Who to Follow" heading and "see more" link.

An "animationstart" event listener in JavaScript (content.js) is triggered
to mark the matched element's ancestor with the `bt-marker-wtf` class name.
Ancestor CSS selectors would have been very useful here.
*/
/* Sidebar: Who to follow container */
.bt--nowtf [aria-label*="who to follow" i],
/* Timeline: Accounts recommended to follow
  NOTE: data-testid="UserCell" also matches on Followers/Following timelines.
  If the main tweets timeline isn't marked correctly, this can trigger a refresh
  loop on other timelines. Bug: https://github.com/oslego/better-twitter/issues/6
 */
.bt--nowtf .bt-marker-timeline [data-testid="UserCell"],
/* Timeline: "Who to Follow" heading */
.bt--nowtf .bt-marker-timeline h2,
/* Timeline: "See more" link */
.bt--nowtf [href^="/i/connect_people"] {
	animation: bt-marker-wtf 0s 1;
}
@keyframes bt-marker-wtf { to { outline-color: inherit } }
.bt--nowtf .bt-marker-wtf {
	display: none !important;
}

/*
Adaptation for the new Twitter interface (circa 2019).

Match the SVG icon for promoted tweets and apply a fake animation to it.
NOTE: The SVG path for the icon may change in the future.
An "animationstart" event listener in JavaScript (content.js) is triggered
to mark the matched element's ancestor (tweet container)
with the `bt-marker-nopromoted` class name.
*/
.bt--nopromoted path[d^="M20.75"] {
	animation: bt-marker-nopromoted 0s 1;
}
@keyframes bt-marker-nopromoted { to { outline-color: inherit } }

/* Hide promoted tweets */
.bt--nopromoted .bt-marker-nopromoted {
	display: none !important;
}

/* Hide "Trends for you" box */
.bt--notrends [aria-label*="trending" i] {
	display: none !important;
}

/* Hide "Footer" box */
.bt--nofooter [aria-label="footer" i] {
	display: none !important;
}

/* Hide tweet reply count */
.bt--nopopularity [data-testid="reply"] span {
	display: none !important;
}

/* Hide tweet retweet count */
.bt--nopopularity [href$="/retweets"] span,
.bt--nopopularity [data-testid="retweet"] span,
.bt--nopopularity [data-testid="unretweet"] span {
  display: none !important;
}

/* Hide tweet like count */
.bt--nopopularity [data-testid="like"] span,
.bt--nopopularity [data-testid="unlike"] span,
/* Hide the likes count on a single tweet page, but not the Likes tab on the user profile page */
.bt--nopopularity [href$="/likes"]:not([role="tab"]) span {
	display: none !important;
}

/* Hide all profile stats from user cards */
.bt--nofame [href$="/following"],
.bt--nofame [href$="/followers"] {
	display: none !important;
}
